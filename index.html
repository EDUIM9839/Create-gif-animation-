<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Text to GIF (Mobile + Emojis)</title>
  <script src="https://cdn.jsdelivr.net/npm/gifshot@0.3.2/build/gifshot.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 20px;
    }
    textarea {
      width: 90%;
      height: 100px;
      font-size: 18px;
      margin-bottom: 10px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      margin-top: 10px;
    }
    #result {
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h2>‚ú® Text to GIF Generator</h2>

  <textarea id="textInput">I love you ‚ù§Ô∏è\nüòò\nüíï</textarea><br>

  Font: 
  <select id="fontSelect">
    <option value="30px Arial">Arial</option>
    <option value="30px 'Segoe UI Emoji'">Emoji</option>
    <option value="30px Courier New">Courier New</option>
  </select>

  Color: 
  <input type="color" id="colorPicker" value="#ff00ff"><br><br>

  <button onclick="generateGif()">Generate GIF</button>

  <div id="result">GIF will appear here</div>

  <script>
    function generateGif() {
      const lines = document.getElementById("textInput").value.split("\n");
      const font = document.getElementById("fontSelect").value;
      const color = document.getElementById("colorPicker").value;

      const frames = lines.map(line => `
        <div style="width:300px;height:150px;display:flex;align-items:center;justify-content:center;
                    font:${font};color:${color};background:white;">
          ${line}
        </div>
      `);

      document.getElementById("result").innerText = "Generating...";

      gifshot.createGIF({
        gifWidth: 300,
        gifHeight: 150,
        interval: 1,
        frameHtml: frames,
        numFrames: frames.length,
        html2Canvas: true
      }, function(obj) {
        const result = document.getElementById("result");
        if (!obj.error) {
          const img = document.createElement('img');
          img.src = obj.image;

          const link = document.createElement('a');
          link.href = obj.image;
          link.download = 'text.gif';
          link.textContent = 'Download GIF';

          result.innerHTML = '';
          result.appendChild(img);
          result.appendChild(document.createElement('br'));
          result.appendChild(link);
        } else {
          result.innerText = "‚ùå GIF generation failed!";
        }
      });
    }
  </script>

</body>
</html>
